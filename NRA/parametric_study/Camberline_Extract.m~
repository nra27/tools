function [] = Camberline_Root_Finder(root_node)


grid_file = 'HPB.grid.1.adf'
flow_file = 'Taw.flow.adf'

[surface_data,flow_data] = Read_ADF_Data(grid_file,flow_file)

% Find the blade nodes ready to plot
blade_nodes = surface_data.group(5).flow_node_numbers;
xyz = flow_data.coordinates;

% plot the blade tip only
plot3(xyz(blade_nodes(25000:end),1),xyz(blade_nodes(25000:end),2),xyz(blade_nodes(25000:end),3),'.r')
axis off
axis equal
hold on

% 16537

%
% Finding the first node on the camber line
%

% for i = 0:1000,
%     
% root_node = 28535+i;
% 
% n_axial = 68;
% 
% % plot the camber line
% n = blade_nodes(root_node);
% plot3(xyz(n,1),xyz(n,2),xyz(n,3),'.b')
% plot3(xyz(n+1:n+n_axial,1),xyz(n+1:n+n_axial,2),xyz(n+1:n+n_axial,3),'.g')
% root_node
% pause
% 
% end

root_node = 28535;
n_axial = 69;

% plot the blade tip only
plot3(xyz(blade_nodes(25000:end),1),xyz(blade_nodes(25000:end),2),xyz(blade_nodes(25000:end),3),'.r')
axis off
axis equal
hold on
% plot the camber line
n = blade_nodes(root_node);
plot3(xyz(n,1),xyz(n,2),xyz(n,3),'.b')
plot3(xyz(n+1:n+n_axial-1,1),xyz(n+1:n+n_axial-1,2),xyz(n+1:n+n_axial-1,3),'.g')
root_node


n_polar = 50;

%
% Find the layers of the tip mesh
for i = 1:n_axial-1, 
    n = blade_nodes(root_node) + i*( 34+ 1);
    plot3(xyz(n:n+n_axial,1),xyz(n:n+n_axial,2),xyz(n:n+n_axial,3),'.k')
    hold on
    
    pause

end

for i = 1:n_axial-1, 
    n = blade_nodes(root_node) + i*3401;
    plot3(xyz(n:n+n_axial,1),xyz(n:n+n_axial,2),xyz(n:n+n_axial,3),'.k')
    hold on
    mat(i,1:49) = (n:n+48);
    camber_line.x(i,1:49) = xyz(n:n+48,1);
    camber_line.y(i,1:49) = xyz(n:n+48,2);
    camber_line.z(i,1:49) = xyz(n:n+48,3);

end

% 'density'    'u_velocity'    'v_velocity'    'w_velocity'    'pressure'    'spallart'    'heat_flux'

for i =1:48,
    for j = 1:n_axial,
        camber_line.flow(i,j,:) = flow_data.flow(mat(i,j),:);
    end
end

figure
contourf(camber_line.x,camber_line.z,camber_line.flow(:,:,1),13)
axis off
axis equal





